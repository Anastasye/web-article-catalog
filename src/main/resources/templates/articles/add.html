<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
    <div class="container">
        <header class="header">
            <h1>üìö –ö–∞—Ç–∞–ª–æ–≥ —Å—Ç–∞—Ç–µ–π</h1>
            <div class="auth-section">
                <span sec:authentication="name"></span>
                <a th:href="@{/logout}" class="btn btn-logout">–í—ã–π—Ç–∏</a>
            </div>
        </header>

        <nav class="main-nav">
            <a th:href="@{/}" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
            <a th:href="@{/articles}" class="nav-link">–í—Å–µ —Å—Ç–∞—Ç—å–∏</a>
            <a th:href="@{/articles/my}" class="nav-link">–ú–æ–∏ —Å—Ç–∞—Ç—å–∏</a>
            <a th:href="@{/articles/add}" class="nav-link active">–î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é</a>
            <a th:href="@{/user/profile}" class="nav-link">–ü—Ä–æ—Ñ–∏–ª—å</a>
        </nav>

        <main>
            <section class="dashboard">
                <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç–∞—Ç—å—é</h2>

                <div th:if="${errorMessage}" class="alert alert-error" th:text="${errorMessage}"></div>

                <form th:action="@{/articles/add}" method="post" enctype="multipart/form-data" class="article-form">

                    <!-- PDF —Ñ–∞–π–ª -->
                    <div class="form-group">
                        <label for="pdfFile">PDF —Ñ–∞–π–ª —Å—Ç–∞—Ç—å–∏ *</label>
                        <input type="file" id="pdfFile" name="pdfFile" accept=".pdf" required class="form-control">
                        <small>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10 MB. –¢–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ PDF.</small>
                    </div>

                    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ -->
                    <div class="form-group">
                        <label for="title">–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ *</label>
                        <input type="text" id="title" name="title" required class="form-control"
                            th:value="${article != null ? article.title : ''}">
                    </div>

                    <!-- –ê–≤—Ç–æ—Ä—ã -->
                    <div class="form-group">
                        <label for="authors">–ê–≤—Ç–æ—Ä—ã *</label>
                        <input type="text" id="authors" name="authors" required class="form-control"
                            th:value="${article != null ? article.authors : ''}">
                    </div>

                    <!-- –ì–æ–¥ -->
                    <div class="form-group">
                        <label for="publicationYear">–ì–æ–¥ –∏–∑–¥–∞–Ω–∏—è</label>
                        <input type="number" id="publicationYear" name="publicationYear" min="1900" max="2025"
                            class="form-control" th:value="${article != null ? article.publicationYear : ''}">
                    </div>

                    <!-- –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ -->
                    <div class="form-group">
                        <label for="keywords">–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞</label>
                        <input type="text" id="keywords" name="keywords" class="form-control"
                            th:value="${article != null ? article.keywords : ''}">
                    </div>

                    <!-- –¢–µ–º–∞ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è) -->
                    <div class="form-group">
                        <label for="topic">–¢–µ–º–∞/—Ä–∞–∑–¥–µ–ª</label>
                        <input type="text" id="topic" name="topic" class="form-control"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –ù–∞—É–∫–∞, –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ)"
                            th:value="${article != null ? article.topic : ''}">
                        <small>–ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–∏–∂–µ:</small>
                        <div style="margin-top: 5px;">
                            <select onchange="document.getElementById('topic').value = this.value;">
                                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ --</option>
                                <option th:each="topic : ${topics}" th:value="${topic}" th:text="${topic}">
                                </option>
                            </select>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ç—å—é</button>
                        <a th:href="@{/articles/my}" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
                    </div>
                </form>
            </section>
        </main>
    </div>
</body>

</html>